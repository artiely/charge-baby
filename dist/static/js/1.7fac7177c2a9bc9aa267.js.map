{"version":3,"sources":["webpack:///./node_modules/core-js/library/fn/array/from.js","webpack:///./node_modules/babel-runtime/helpers/toConsumableArray.js","webpack:///./node_modules/babel-runtime/core-js/array/from.js","webpack:///./node_modules/core-js/library/modules/_create-property.js","webpack:///src/views/box_list.vue","webpack:///./src/views/box_list.vue?6b0e","webpack:///./src/views/box_list.vue","webpack:///./node_modules/core-js/library/modules/es6.array.from.js"],"names":["__webpack_require__","module","exports","Array","from","__esModule","obj","_from","_from2","default","arr","isArray","i","arr2","length","$defineProperty","createDesc","object","index","value","f","columns","title","key","dataIndex","scopedSlots","customRender","width","fixed","box_list","mixins","data","boxtype","status","labelCol","span","wrapperCol","watch","row","handler","val","this","deep","methods","fetch","info","getQrcode","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","newData","target","wrap","_context","prev","next","$api","BOX_QRCODE","code","sent","concat","toConsumableArray_default","filter","item","qrcode","url","stop","editFetch","boxtypeList","_this2","_callee2","_context2","BOXTYPE_LIST","page","limit","handleSubmit","_this3","form","validateFields","err","values","extends_default","id","save","created","views_box_list","render","this$1","_vm","_h","$createElement","_c","_self","attrs","slot","staticStyle","placeholder","model","callback","$$v","search","expression","_v","staticClass","format","on","change","timeChange","size","dataSource","pagination","loading","scroll","x","handleTableChange","_u","fn","text","record","href","_s","mobile","name","color","_e","_l","click","$event","type","download","edit","last_page","margin-top","defaultCurrent","total","onChange","footer","visible","autoFormCreate","submit","required","label","fieldDecoratorId","fieldDecoratorOptions","initialValue","type_id","rules","message","unit_price","upper_price","checkedChildren","unCheckedChildren","offset","margin-right","htmlType","staticRenderFns","Component","normalizeComponent","__webpack_exports__","ctx","$export","toObject","call","isArrayIter","toLength","createProperty","getIterFn","S","F","iter","arrayLike","result","step","iterator","O","C","aLen","arguments","mapfn","undefined","mapping","iterFn","done"],"mappings":"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","file":"static/js/1.7fac7177c2a9bc9aa267.js","sourcesContent":["require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/array/from.js\n// module id = 5zde\n// module chunks = 1","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/toConsumableArray.js\n// module id = Gu7T\n// module chunks = 1","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/array/from.js\n// module id = c/Tr\n// module chunks = 1","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_create-property.js\n// module id = fBQ2\n// module chunks = 1","<template>\r\n  <div>\r\n    <a-card>\r\n      <div slot=\"title\">\r\n        <a-input-search placeholder=\"商户名/设备类型\" v-model=\"search\"  style=\"width:400px\" />\r\n        <a-range-picker @change=\"timeChange\" format=\"YYYY-MM-DD\" class=\"pull-right\" />\r\n      </div>\r\n      <!-- table -->\r\n      <a-table :columns=\"columns\" size=\"middle\" :dataSource=\"data\" :pagination=\"false\" :loading=\"loading\" @change=\"handleTableChange\" :scroll=\"{ x: 1400 }\">\r\n        <template slot=\"created_at\" slot-scope=\"text,record\">\r\n          <a href=\"#\">{{record.mobile}} - {{record.name}}</a>\r\n        </template>\r\n        <template slot=\"status\" slot-scope=\"text,record\">\r\n          <a-tag color=\"#87d068\" v-if=\"text==1\">启用</a-tag>\r\n          <a-tag color=\"#f50\" v-if=\"text==0\">停用</a-tag>\r\n        </template>\r\n        <template slot=\"box_status_cn\" slot-scope=\"text,record\">\r\n          <span v-for=\"(item,i) in record.box_status_cn\" :key=\"i\">\r\n            <a-tag color=\"green\" v-if=\"item=='正常'\">正常</a-tag>\r\n            <a-tag color=\"pink\" v-if=\"item=='机柜已空'\">机柜已空</a-tag>\r\n            <a-tag color=\"pink\" v-if=\"item=='充电宝弹出卡死'\">充电宝弹出卡死</a-tag>\r\n            <a-tag color=\"orange\" v-if=\"item=='充电宝电量低于标准值'\">充电宝电量低于标准值</a-tag>\r\n            <a-tag color=\"green\" v-if=\"item=='充电宝损坏'\">充电宝损坏</a-tag>\r\n            <a-tag color=\"cyan\" v-if=\"item=='充电宝丢失'\">充电宝丢失</a-tag>\r\n            <a-tag color=\"blue\" v-if=\"item=='系统复位'\">系统复位</a-tag>\r\n            <a-tag color=\"purple\" v-if=\"item=='新插入充电宝'\">新插入充电宝</a-tag>\r\n          </span>\r\n        </template>\r\n        <template slot=\"qrcode\" slot-scope=\"text, record\">\r\n          <span>\r\n            <span @click=\"getQrcode(record)\">\r\n              <a-icon type=\"qrcode\" /> 点击生成\r\n            </span>\r\n            <a v-if=\"record.qrcode\" :href=\"record.qrcode\" :download=\"record.code\">下载</a>\r\n          </span>\r\n        </template>\r\n        <template slot=\"operation\" slot-scope=\"text, record\">\r\n          <a @click=\"edit(record)\">编辑</a>\r\n          <a @click=\"info(record)\">详情</a>\r\n        </template>\r\n      </a-table>\r\n      <a-pagination :defaultCurrent=\"1\" v-if=\"last_page>1\" :total=\"total\" @change=\"onChange\" style=\"margin-top:6px\" />\r\n    </a-card>\r\n    <!-- edit -->\r\n    <a-modal :title=\"title\" v-model=\"visible\" :footer=\"null\">\r\n      <a-form @submit=\"handleSubmit\" :autoFormCreate=\"(form)=>{this.form = form}\">\r\n        <a-form-item required label='设备类型' :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" fieldDecoratorId=\"type_id\" :fieldDecoratorOptions=\"{initialValue:row.type_id}\">\r\n          <a-select>\r\n            <a-select-option :value=\"item.id\" v-for=\"item in boxtype\" :key=\"item.id\">{{item.name}}</a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n        <a-form-item label='单价/小时(元)' :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" fieldDecoratorId=\"unit_price\" :fieldDecoratorOptions=\"{rules: [{ required: true,message: '请输入商户密码'}],initialValue:row.unit_price}\">\r\n          <a-input type=\"number\" />\r\n        </a-form-item>\r\n        <a-form-item required label='24h最高收费(元)' :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" fieldDecoratorId=\"upper_price\" :fieldDecoratorOptions=\"{rules: [{ required: true,message: '请输入商户地址'}],initialValue:row.upper_price}\">\r\n          <a-input type=\"number\" />\r\n        </a-form-item>\r\n        <a-form-item :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" label='机柜状态' fieldDecoratorId=\"status\">\r\n          <a-switch checkedChildren=\"已启用\" unCheckedChildren=\"已停用\" v-model=\"status\" />\r\n        </a-form-item>\r\n        <a-form-item :wrapperCol=\"{ span: 19, offset: 5 }\">\r\n          <a-button type='dashed' size=\"large\" style=\"width:120px;margin-right:10px\" @click=\"visible=false\">\r\n            取消\r\n          </a-button>\r\n          <a-button type='primary' htmlType='submit' size=\"large\" style=\"width:120px\">\r\n            保存\r\n          </a-button>\r\n        </a-form-item>\r\n      </a-form>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n<script>\r\nimport tableMixins from '../mixins/table.js'\r\nconst columns = [\r\n  {\r\n    title: '设备id',\r\n    key: 'code',\r\n    dataIndex: 'code',\r\n    scopedSlots: { customRender: 'code' },\r\n    width: 150,\r\n    fixed: 'left'\r\n  },\r\n  {\r\n    key: 'created_at',\r\n    title: '入住时间',\r\n    dataIndex: 'created_at',\r\n    width: 150\r\n  },\r\n\r\n  {\r\n    key: 'type.name',\r\n    title: '设备类型',\r\n    dataIndex: 'type.name',\r\n    width: 150\r\n  },\r\n  {\r\n    key: 'box_status_cn',\r\n    title: '运行状态',\r\n    dataIndex: 'box_status_cn[0]',\r\n    scopedSlots: { customRender: 'box_status_cn' },\r\n    width: 100\r\n  },\r\n  {\r\n    key: 'status',\r\n    title: '机柜状态',\r\n    dataIndex: 'status',\r\n    scopedSlots: { customRender: 'status' },\r\n    width: 100\r\n  },\r\n  {\r\n    key: 'unit_price',\r\n    title: '单价/小时(元)',\r\n    dataIndex: 'unit_price',\r\n    width: 100\r\n  },\r\n  {\r\n    key: 'upper_price',\r\n    title: '24h最高收费(元)',\r\n    dataIndex: 'upper_price',\r\n    width: 150\r\n  },\r\n  {\r\n    key: 'store.name',\r\n    title: '所属商户',\r\n    dataIndex: 'store.name',\r\n    width: 150\r\n  },\r\n  {\r\n    key: 'qrcode',\r\n    title: '二维码',\r\n    dataIndex: 'qrcode',\r\n    scopedSlots: { customRender: 'qrcode' },\r\n    width: 150\r\n  },\r\n  {\r\n    title: '操作',\r\n    dataIndex: 'operation',\r\n    scopedSlots: { customRender: 'operation' },\r\n    width: 100,\r\n    fixed: 'right'\r\n  }\r\n]\r\n\r\nexport default {\r\n  mixins: [tableMixins],\r\n  data() {\r\n    return {\r\n      columns,\r\n      boxtype: null,\r\n      status: true,\r\n      labelCol: { span: 7 },\r\n      wrapperCol: { span: 17 }\r\n    }\r\n  },\r\n  watch: {\r\n    row: {\r\n      handler(val) {\r\n        if (val) {\r\n          this.status = val.status === 1\r\n        }\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    fetch() {\r\n      return 'BOX_LIST'\r\n    },\r\n    info() {},\r\n    async getQrcode(row) {\r\n      let res = await this.$api.BOX_QRCODE({ code: row.code })\r\n      const newData = [...this.data]\r\n      const target = newData.filter(item => row.key === item.key)[0]\r\n      if (target) {\r\n        target.qrcode = res.url\r\n        this.data = newData\r\n      }\r\n    },\r\n    editFetch() {\r\n      return 'BOX_PUT_POST'\r\n    },\r\n    async boxtypeList() {\r\n      let res = await this.$api.BOXTYPE_LIST({ page: 1, limit: 100 })\r\n      this.boxtype = res.data\r\n    },\r\n    handleSubmit() {\r\n      this.form.validateFields((err, values) => {\r\n        let data = {\r\n          id: this.row.id,\r\n          ...values,\r\n          status: this.status ? 1 : 0\r\n        }\r\n        if (!err) {\r\n          this.save(data)\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.boxtypeList()\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/box_list.vue","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-card',[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('a-input-search',{staticStyle:{\"width\":\"400px\"},attrs:{\"placeholder\":\"商户名/设备类型\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_vm._v(\" \"),_c('a-range-picker',{staticClass:\"pull-right\",attrs:{\"format\":\"YYYY-MM-DD\"},on:{\"change\":_vm.timeChange}})],1),_vm._v(\" \"),_c('a-table',{attrs:{\"columns\":_vm.columns,\"size\":\"middle\",\"dataSource\":_vm.data,\"pagination\":false,\"loading\":_vm.loading,\"scroll\":{ x: 1400 }},on:{\"change\":_vm.handleTableChange},scopedSlots:_vm._u([{key:\"created_at\",fn:function(text,record){return [_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(record.mobile)+\" - \"+_vm._s(record.name))])]}},{key:\"status\",fn:function(text,record){return [(text==1)?_c('a-tag',{attrs:{\"color\":\"#87d068\"}},[_vm._v(\"启用\")]):_vm._e(),_vm._v(\" \"),(text==0)?_c('a-tag',{attrs:{\"color\":\"#f50\"}},[_vm._v(\"停用\")]):_vm._e()]}},{key:\"box_status_cn\",fn:function(text,record){return _vm._l((record.box_status_cn),function(item,i){return _c('span',{key:i},[(item=='正常')?_c('a-tag',{attrs:{\"color\":\"green\"}},[_vm._v(\"正常\")]):_vm._e(),_vm._v(\" \"),(item=='机柜已空')?_c('a-tag',{attrs:{\"color\":\"pink\"}},[_vm._v(\"机柜已空\")]):_vm._e(),_vm._v(\" \"),(item=='充电宝弹出卡死')?_c('a-tag',{attrs:{\"color\":\"pink\"}},[_vm._v(\"充电宝弹出卡死\")]):_vm._e(),_vm._v(\" \"),(item=='充电宝电量低于标准值')?_c('a-tag',{attrs:{\"color\":\"orange\"}},[_vm._v(\"充电宝电量低于标准值\")]):_vm._e(),_vm._v(\" \"),(item=='充电宝损坏')?_c('a-tag',{attrs:{\"color\":\"green\"}},[_vm._v(\"充电宝损坏\")]):_vm._e(),_vm._v(\" \"),(item=='充电宝丢失')?_c('a-tag',{attrs:{\"color\":\"cyan\"}},[_vm._v(\"充电宝丢失\")]):_vm._e(),_vm._v(\" \"),(item=='系统复位')?_c('a-tag',{attrs:{\"color\":\"blue\"}},[_vm._v(\"系统复位\")]):_vm._e(),_vm._v(\" \"),(item=='新插入充电宝')?_c('a-tag',{attrs:{\"color\":\"purple\"}},[_vm._v(\"新插入充电宝\")]):_vm._e()],1)})}},{key:\"qrcode\",fn:function(text, record){return [_c('span',[_c('span',{on:{\"click\":function($event){_vm.getQrcode(record)}}},[_c('a-icon',{attrs:{\"type\":\"qrcode\"}}),_vm._v(\" 点击生成\\n          \")],1),_vm._v(\" \"),(record.qrcode)?_c('a',{attrs:{\"href\":record.qrcode,\"download\":record.code}},[_vm._v(\"下载\")]):_vm._e()])]}},{key:\"operation\",fn:function(text, record){return [_c('a',{on:{\"click\":function($event){_vm.edit(record)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('a',{on:{\"click\":function($event){_vm.info(record)}}},[_vm._v(\"详情\")])]}}])}),_vm._v(\" \"),(_vm.last_page>1)?_c('a-pagination',{staticStyle:{\"margin-top\":\"6px\"},attrs:{\"defaultCurrent\":1,\"total\":_vm.total},on:{\"change\":_vm.onChange}}):_vm._e()],1),_vm._v(\" \"),_c('a-modal',{attrs:{\"title\":_vm.title,\"footer\":null},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('a-form',{attrs:{\"autoFormCreate\":function (form){this$1.form = form}},on:{\"submit\":_vm.handleSubmit}},[_c('a-form-item',{attrs:{\"required\":\"\",\"label\":\"设备类型\",\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"type_id\",\"fieldDecoratorOptions\":{initialValue:_vm.row.type_id}}},[_c('a-select',_vm._l((_vm.boxtype),function(item){return _c('a-select-option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}))],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":\"单价/小时(元)\",\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"unit_price\",\"fieldDecoratorOptions\":{rules: [{ required: true,message: '请输入商户密码'}],initialValue:_vm.row.unit_price}}},[_c('a-input',{attrs:{\"type\":\"number\"}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"required\":\"\",\"label\":\"24h最高收费(元)\",\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"upper_price\",\"fieldDecoratorOptions\":{rules: [{ required: true,message: '请输入商户地址'}],initialValue:_vm.row.upper_price}}},[_c('a-input',{attrs:{\"type\":\"number\"}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"label\":\"机柜状态\",\"fieldDecoratorId\":\"status\"}},[_c('a-switch',{attrs:{\"checkedChildren\":\"已启用\",\"unCheckedChildren\":\"已停用\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"wrapperCol\":{ span: 19, offset: 5 }}},[_c('a-button',{staticStyle:{\"width\":\"120px\",\"margin-right\":\"10px\"},attrs:{\"type\":\"dashed\",\"size\":\"large\"},on:{\"click\":function($event){_vm.visible=false}}},[_vm._v(\"\\n          取消\\n        \")]),_vm._v(\" \"),_c('a-button',{staticStyle:{\"width\":\"120px\"},attrs:{\"type\":\"primary\",\"htmlType\":\"submit\",\"size\":\"large\"}},[_vm._v(\"\\n          保存\\n        \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fa34e9a8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/box_list.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./box_list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./box_list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fa34e9a8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./box_list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/box_list.vue\n// module id = null\n// module chunks = ","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.array.from.js\n// module id = qyJz\n// module chunks = 1"],"sourceRoot":""}